@model IEnumerable<prjProduct_core.ViewModel.CProductViewModel>



    @{
        foreach (var pd in Model)
        {
            <!-- Single Product Area -->
            <div class="col-12 col-sm-6 col-lg-4" >
                <div class="single-product-area mb-50 single_portfolio_item home-design wow fadeIn" data-wow-delay="300ms">
                    <!-- Product Image -->
                    <div class="product-img">
                        <a asp-action="detail" asp-route-id="@pd.ProductId"><img src="../img/Home-img/02.jpg" alt=""></a>
                        <!-- Product Tag -->
                        <div class="product-tag">
                            <a href="#">Hot</a>
                        </div>
                        <div class="product-meta d-flex">
                            <a href="#" class="wishlist-btn"><i class="icon_heart_alt"></i></a>
                            <a href="@Url.Action("AddtoCart","Shopping", new { id = @pd.ProductId})" style="cursor:pointer" class="add-to-cart-btn"><span hidden id="addtocart">@pd.ProductId</span>Add to cart</a>
                            <a href="javascript:void(0);" class="compare-btn"><i class="arrow_left-right_alt"></i><span hidden id="comid">@pd.ProductId</span></a>
                        </div>
                    </div>
                    <!-- Product Info -->
                    <div class="product-info mt-15 text-center">
                        <a>
                            @Html.ActionLink(@pd.ProductName, "detail", new { id = pd.ProductId }, new { })
                        </a>
                        <h6>$@(Convert.ToInt32( pd.Price).ToString("0.0"))</h6>
                    </div>
                </div>
            </div>
        }

    }
<div></div>

<br />
<div class="col-12">
    <ul class="pagination left pull-left " id="btnul">
    </ul>
</div>
    



<script>
    $("#btnul").append(function () {
            $.get('@Url.Content("~/API/loadAll")', function (data) {
                let cont = parseInt (data) + 1;
                for (let i = 1; i < cont+1; i++) {
                    $("#btnul").append(`<li class=" page-item"><a href="#" class=" page-link " id="Page${i}" onclick="loadpage()">${i}</a></li>`)
                }
            })
        });
        function loadpage() {
            let id = $(event.target).attr("id").substr(4);
            /*console.log(id)*/
             $("#showcard").load('@Url.Content("~/Shop/partialView")' + "?id=" + id);
        }

    $(".compare-btn").click(function () {
        let comid = $(this.children).text();
        $.get('@Url.Content("~/compare/AddCompare")', { "Id": comid },
            function (data) {
                alert(data);
            }
        );
    });
</script>