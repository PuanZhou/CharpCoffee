@using prjProduct_core.Controllers
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- The above 4 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <!-- Title -->
    <title>CSCoffee &amp; Landscaping HTML Template</title>

    <!-- Favicon -->
    <link rel="icon" href="/img/Home-img/coffee.png">
    <!-- Core Stylesheet -->
    <link href="~/style.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css" />
    <!-- animate style -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link href="~/css/PagedList.css" rel="stylesheet" />
    @await RenderSectionAsync("Style", required: false)
    <style>
        .nvlogo {
            height: 75px;
            width: 175px;
        }
        .right-banner {
            position: fixed;
            top: 50vh;
            right: 2rem;
            z-index:999;
        }

    </style>
</head>
<body>
    <!-- Preloader -->
    <div class="preloader d-flex align-items-center justify-content-center">
        <div class="preloader-circle"></div>
        <div class="preloader-img">
            <img src="img/Home-img/03.jpg" alt="">
        </div>
    </div>

    <!-- ##### Header Area Start ##### -->
    <header class="header-area" style="z-index:10000">

        <!-- ***** Top Header Area ***** -->
        <div class="top-header-area">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="top-header-content d-flex align-items-center justify-content-between">
                            <!-- Top Header Content -->
                            <div class="top-header-meta">
                                @*<a href="#" data-toggle="tooltip" data-placement="bottom" title="infodeercreative@gmail.com"><i class="fa fa-envelope-o" aria-hidden="true"></i> <span>Email: infodeercreative@gmail.com</span></a>
                                    <a href="#" data-toggle="tooltip" data-placement="bottom" title="+1 234 122 122"><i class="fa fa-phone" aria-hidden="true"></i> <span>Call Us: +1 234 122 122</span></a>*@
                                <a href="#" title="infodeercreative@gmail.com"><i class="fa fa-envelope-o" aria-hidden="true"></i> <span>Email: cscoffee@msit141.com.tw</span></a>
                                <a href="#" title="+1 234 122 122"><i class="fa fa-phone" aria-hidden="true"></i> <span>Tel: 02-2222-2222</span></a>
                            </div>

                            <!-- Top Header Content -->
                            <div class="top-header-meta d-flex">
                                <!-- 會員 Dropdown -->
                                <div class="language-dropdown" id="member-dropdown">
                                    <div class="dropdown">
                                        <button class="btn btn-secondary dropdown-toggle mr-30" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">會員專區</button>
                                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                            <a class="dropdown-item" href="/MemCenter/Index">會員中心</a>
                                            @*<a class="dropdown-item" href="#">會員通知?</a>
                                                <a class="dropdown-item" href="#">會員xx</a>
                                                <a class="dropdown-item" href="#">會員ox</a>*@
                                            <a class="dropdown-item" href="/home/onlineServices">即時客服</a>
                                            <a class="dropdown-item" href="/Home/Logout" id="logout" hidden>登出</a>
                                        </div>
                                    </div>
                                </div>
                                <!-- Login -->
                                <div class="login">
                                    <a href="/Home/Login" id="loginID"><i class="fa fa-user" aria-hidden="true"></i> <span id="memname">@HomeController.MemName</span></a>
                                </div>
                                <!-- Cart -->
                                <div class="cart">
                                    <a asp-controller="Shopping" asp-action="ShoppingCar"><i class="fa fa-shopping-cart" aria-hidden="true"></i> <span>Cart <span class="cart-quantity">(<span id="countCart" style="color:#F1948A"></span>)</span></span></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ***** Navbar Area ***** -->
        <div class="alazea-main-menu">
            <div class="classy-nav-container breakpoint-off">
                <div class="container">
                    <!-- Menu -->
                    <nav class="classy-navbar justify-content-between" id="alazeaNav">

                        <!-- Nav Brand -->
                        <a href="index.html" class="nav-brand nvlogo"><img src="img/Home-img/Clogo.png" alt=""></a>

                        <!-- Navbar Toggler -->
                        <div class="classy-navbar-toggler">
                            <span class="navbarToggler"><span></span><span></span><span></span></span>
                        </div>

                        <!-- Menu -->
                        <div class="classy-menu">

                            <!-- Close Button -->
                            <div class="classycloseIcon">
                                <div class="cross-wrap"><span class="top"></span><span class="bottom"></span></div>
                            </div>

                            <!-- Navbar Start -->
                            <div class="classynav">
                                <ul>
                                    <li><a asp-controller="Home" asp-action="Index">回首頁</a></li>
                                    <li><a asp-area="" asp-controller="CAboutMe" asp-action="faceToMe">關於我</a></li>
                                    <li><a asp-area="" asp-controller="Shop" asp-action="view">商品</a></li>
                                    <li>
                                        <a href="#">相關文章</a>
                                        <ul class="dropdown">
                                            <li><a asp-area="" asp-controller="CFrog" asp-action="faceToFrog">樹蛙雨林聯盟</a></li>
                                            <li><a asp-area="" asp-controller="CArticle" asp-action="faceToArticle">咖啡好文</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="portfolio.html">填寫問券</a></li>
                                    <li><a asp-area="" asp-controller="Constellation" asp-action="faceToConstellation">星座咖啡</a></li>
                                </ul>
                                <!-- Search Icon -->
                                <div id="searchIcon">
                                    <i class="fa fa-search" aria-hidden="true"></i>
                                </div>
                            </div>
                            <!-- Navbar End -->
                        </div>
                    </nav>
                    <!-- Search Form -->
                    <div class="search-form">
                        <form action="#" method="get">
                            <input type="search" name="search" id="search" placeholder="請輸入關鍵字">
                            <button type="submit" class="d-none"></button>
                        </form>
                        <!-- Close Icon -->
                        <div class="closeIcon"><i class="fa fa-times" aria-hidden="true"></i></div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- ##### Header Area End ##### -->
    
    <!-- ##### Right-Banner ##### -->
    <div>
        <div class="btn-group-vertical right-banner wow fadeInDown" role="group" aria-label="Basic example">
            <button id="compare" type="button" class="btn btn-light" title="前往比較頁面"><img src="~/img/Icon/compare-icon.png" /></button>
            <button type="button" class="btn btn-light">購物車</button>
        </div>
        <main role="main" class="pb-3">

            @RenderBody()
        </main>
    </div>

    <footer class="border-top footer text-muted">
        <div class="container">
            &copy; MSIT141 西夏普咖啡 - <a asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
        </div>
    </footer>
    @*<script src="~/lib/jquery/dist/jquery.min.js"></script>
        <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
        <script src="~/js/site.js" asp-append-version="true"></script>*@
    <script src="~/js/jquery/jquery-2.2.4.min.js"></script>
    <!-- Popper js -->
    <script src="~/js/bootstrap/popper.min.js"></script>
    <!-- Bootstrap js -->
    <script src="~/js/bootstrap/bootstrap.min.js"></script>
    <!-- All Plugins js -->
    <script src="~/js/plugins/plugins.js"></script>
    <!-- Active js -->
    <script src="~/js/active.js"></script>
    <script src="~/js/Loginout.js"></script>
    <!-- Bootstrap-growl -->
    <script src="~/js/jquery.bootstrap-growl.min.js"></script>
    <script>new WOW().init();</script>

    @await RenderSectionAsync("Scripts", required: false)
    <script>
        //===================購物車物品數量計算=====================
        async function CountCart() {
            let countCart = document.querySelector("#countCart");
            const response = await fetch('@Url.Content("~/api/CountCart")');
            const result = await response.text();
            countCart.innerHTML = result;
        }
        CountCart();

        //===================搜尋=====================

        //==================前往比較頁面===============
        $("#compare").click(function () {
            $('.bootstrap-growl').remove();
        $.get('@Url.Content("~/Compare/CompareView")',
            function (data) {
                if (data === "null") {
                    $.bootstrapGrowl("尚未加入任何比較!", {
                        ele: "body",
                        type: "danger",
                        offset: { from: "bottom", amount:50 },
                        align: "right",
                        width: "auto" ,
                        delay: 3000,
                        allow_dismiss: true,
                        stackup_spacing: 10
                    });
                }
                else {
                    window.location.href = '@Url.Content("~/Compare/CompareView")';
                }
            }
        );
    })
    </script>
</body>
</html>
